#!/bin/bash

####################################################
#           PLEASE DO NOT EDIT THIS FILE           #
#       IF YOU DON'T KNOW WHAT YOU ARE DOING       #
####################################################

. configuration

clear
echo -e "\033[34;1m"
echo "  @@  @@   @@@@  @@   @@  @@@@   @@@@   @@@@ "
echo " @@@@@@@@ @@@@@@ @@@  @@ @@  @@ @@  @@ @@    "
echo " @@ @@ @@ @@  @@ @@@@ @@ @@     @@  @@ @@@@@ "
echo " @@ @@ @@ @@@@@@ @@ @@@@ @@@@@@ @@  @@     @@"
echo " @@ @@ @@ @@  @@ @@  @@@ @@  @@ @@  @@ @@  @@"
echo " @@ @@ @@ @@  @@ @@   @@  @@@@   @@@@   @@@@ "
echo " --------------------------------------------"
echo "                 ./configure                 "
echo " --------------------------------------------"
echo -e "\033[0m"

#           CONFIGURE & COMPILE MANGOS             #
####################################################

cd $SOURCES

autoreconf --install --force
aclocal
autoheader
autoconf
automake --add-missing
automake src/bindings/ScriptDev2/Makefile

if [ -e $OBJDIR ] 
then
  rm -rf $OBJDIR
fi

mkdir $OBJDIR
cd $OBJDIR

export CXXFLAGS="-O3"
export CFLAGS="-O3"
      
$SOURCES/configure --prefix=$INSTDIR --sysconfdir=$CONFDIR --datadir=$DATADIR --enable-cli --enable-ra --with-mysql

if [ ${DOPAUSE} = 1 ] 
then
  pause
fi

echo " "
echo " "